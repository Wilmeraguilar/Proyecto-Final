<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="description" content="Página de ejemplo de Spring Boot + Thymeleaf para el curso de Egg Educación" />
    <meta name="author" content="Fernando Cocco" />
    <title th:text="|${title} -Biblioteca Egg|"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>

<body>
  

    <div class="container mt-5 main">
        <h1 th:text="${title}"></h1>
        <hr class="mb-5 col-xl-12" />
        <form id="formulario" class="needs-validation" th:action="@{/reservas/__${action}__}" method="POST"
            th:object="${reserva}" autocomplete="off" novalidate>
            <input type="hidden" th:field="*{id}" />


            <!-- <div class="input-group">
                <input id="gimnasio"th:value="${gimnasio.id}"class="input--style-3" type="text" placeholder="Gimnasio" name="gimnasio"
                    th:field="*{gimnasio}" autocomplete="on" required />
            </div> -->
            <div class="form-floating mb-3 col-xl-6 mt-3">
                <input id="gimnasio" class="form-control" type="text" th:value="${gimnasio}" required />
                <label for="gimnasio">Usuario</label>
                <div class="invalid-feedback">Usuario</div>
            </div> 
            </div>
           <!--  <div class="input-group"> 
                <input class="input--style-3" type="text" placeholder="Usuario" name="usuario"
                    th:field="*{usuario.nombre}" autocomplete="on" required />
            </div>  -->
            <div class="form-floating mb-3 col-xl-6">
                <input id="usuario" class="form-control" type="text" sec:authentication="name" required />
                <label for="usuario">Usuario</label>
                <div class="invalid-feedback">Usuario</div>
            </div> 

            <div class="form-floating mb-3 col-xl-6">
                <input id="fecha" class="form-control" type="date" th:field="*{fecha}" required />
                <label for="fecha">Fecha </label>
                <div class="invalid-feedback">La fecha es obligatorio</div>
            </div>
            <div class="input-group">
                <div class="rs-select2 js-select-simple select--no-search">
                    <select name="horario" id="horario" aria-label="Elegir horario" th:field="*{horario}"
                        required>
                        <option value="" selected>Elige un horario</option>
                        <option value="08:00">08:00</option>
                        <option value="09:00">09:00</option>
                        <option value="10:00">10:00</option>
                        <option value="11:00">11:00</option>
                        <option value="12:00">12:00</option>
                        <option value="13:00">13:00</option>
                        <option value="14:00">14:00</option>
                        <option value="15:00">15:00</option>
                        <option value="16:00">16:00</option>
                        <option value="17:00">17:00</option>
                        <option value="18:00">18:00</option>
                        <option value="19:00">19:00</option>
                        <option value="20:00">20:00</option>
                        <option value="21:00">21:00</option>
                        <option value="22:00">22:00</option>
                    </select>
                    <div class="select-dropdown"></div>
                </div>
            </div>
           <!--  <input type="hidden" th:field="*{id}" />

            <div class="form-floating mb-3 col-xl-6">
                <input id="fecha" class="form-control" type="date" th:field="*{fecha}" required />
                <label for="fecha">Fecha Inicial</label>
                <div class="invalid-feedback">La fecha inicial es obligatorio</div>
            </div>

            <div class="form-floating mb-3 col-xl-6">
                <input id="devolucion" class="form-control" type="date" th:field="*{devolucion}" required />
                <label for="devolucion">Fecha Final</label>
                <div class="invalid-feedback">La fecha final es obligatorio</div>
            </div>

            <div class="form-floating mb-6 col-xl-6">

                <p> Agregar libro </p>
                <select id="libros" class="form-select mb-6" multiple aria-label="Agregar Libro" th:field="*{libros}">
                    <option value="" selected>Elegir libro</option>
                    <option th:each="libro : ${libros}" th:text="|${libro.titulo}|" th:value="${libro.isbn}"></option>
                    <script class="show">
                        $("#select").selectize({
                            maxItems: 3,
                        });
                    </script>
                </select>

            </div>


            <div class="form-floating mb-3 col-xl-6 mt-3">
                <select id="cliente" class="form-select" aria-label="Elegir Cliente" th:field="*{cliente}">
                    <option value="" selected>Elegir cliente</option>
                    <option th:each="cliente : ${clientes}" th:text="|${cliente.nombre} ${cliente.dni}|"
                        th:value="${cliente.dni}"></option>
                </select>
                <label for="cliente">Cliente</label>
            </div>
 -->
            <div class="row">
                <div class="col-xl-3">
                    <button class="btn btn-success" type="submit"
                        th:text="${action == 'guardar'} ? 'Crear Reserva' : 'Guardar cambios'"></button>
                </div>
            </div>
        </form>
    </div>

    <footer class="footer py-3 bg-dark fixed-bottom">
        <div class="container d-flex justify-content-center">
            <span class="text-muted">&copy; Ezequiel Olivera - 2021</span>
            <a class="text-decoration-none ms-3 footer-link" href="" target="_blank">
                <i class="bi bi-linkedin"></i>
            </a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
    <script>
        (() => {
            "use strict";

            const form = document.getElementById("formulario");
            form.addEventListener("submit", (event) => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }

                form.classList.add("was-validated");
            }, false)
        })();
    </script>
</body>

</html>